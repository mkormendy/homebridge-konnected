{
  "pluginAlias": "konnected",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "name": {
      "title": "Name",
      "description": "The name that will appear in your homebridge log.",
      "type": "string",
      "default": "Konnected",
      "required": true
    },
    "panels": {
      "description": "These are the individual Konnected Alarm Panel module boards.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "title": "Panel Name",
            "type": "string",
            "default": "Alarm Panel 1",
            "required": true
          },
          "uuid": {
            "title": "UUID",
            "type": "string"
          },
          "macAddress": {
            "title": "MAC Address",
            "type": "string"
          },
          "IPAddress": {
            "title": "IP Address",
            "type": "string"
          },
          "zones": {
            "description": "Customize the names and types of your zones.<br><span class='primary-text'>Please note that if you do not define your zones here or manually in the config.json, all zones will be considered open/close contact sensors.</span>",
            "type": "array",
            "maxItems": 15,
            "items": {
              "type": "object",
              "properties": {
                "zoneNumber": {
                  "title": "Number",
                  "type": "integer",
                  "oneOf": [
                    {
                      "title": "V1/V2 & Pro: 1",
                      "enum": [1]
                    },
                    {
                      "title": "V1/V2 & Pro: 2",
                      "enum": [2]
                    },
                    {
                      "title": "V1/V2 & Pro: 3",
                      "enum": [3]
                    },
                    {
                      "title": "V1/V2 & Pro: 4",
                      "enum": [4]
                    },
                    {
                      "title": "V1/V2 & Pro: 5",
                      "enum": [5]
                    },
                    {
                      "title": "V1/V2 & Pro: 6",
                      "enum": [6]
                    },
                    {
                      "title": "V1/V2: 7 Out or Alarm",
                      "enum": [7]
                    },
                    {
                      "title": "Pro Only: 7",
                      "enum": [7]
                    },
                    {
                      "title": "Pro Only: 8",
                      "enum": [8]
                    },
                    {
                      "title": "Pro Only: 9",
                      "enum": [9]
                    },
                    {
                      "title": "Pro Only: 10",
                      "enum": [10]
                    },
                    {
                      "title": "Pro Only: 11",
                      "enum": [11]
                    },
                    {
                      "title": "Pro Only: 12",
                      "enum": [12]
                    },
                    {
                      "title": "Pro Only: 13 Alarm Siren 1",
                      "enum": [13]
                    },
                    {
                      "title": "Pro Only: 14 Out",
                      "enum": [14]
                    },
                    {
                      "title": "Pro Only: 15 Alarm Siren 2",
                      "enum": [15]
                    }
                  ]
                },
                "zoneType": {
                  "title": "Type",
                  "type": "string",
                  "oneOf": [
                    {
                      "title": "Contact Sensor",
                      "enum": ["contact"]
                    },
                    {
                      "title": "Motion Sensor",
                      "enum": ["motion"]
                    },
                    {
                      "title": "Glass Break Sensor",
                      "enum": ["glass"]
                    },
                    {
                      "title": "Smoke / CO Sensor",
                      "enum": ["smoke"]
                    },
                    {
                      "title": "Tempurature Sensor",
                      "enum": ["temperature"]
                    },
                    {
                      "title": "Temperature / Humidity Sensor",
                      "enum": ["temphumid"]
                    },
                    {
                      "title": "Water Leak / Rain Sensor",
                      "enum": ["water"]
                    },
                    {
                      "title": "Alarm Siren",
                      "enum": ["siren"]
                    },
                    {
                      "title": "Alarm Strobe Light",
                      "enum": ["strobe"]
                    },
                    {
                      "title": "Switch",
                      "enum": ["switch"]
                    }
                  ]
                },
                "zoneLocation": {
                  "title": "Location",
                  "type": "string",
                  "placeholder": "(E.g., Living Room)"
                },
                "zoneActiveAtHome": {
                  "title": "Active in Home Mode",
                  "type": "boolean"
                },
                "zoneActiveAtNight": {
                  "title": "Active in Night Mode",
                  "type": "boolean"
                }
              }
            }
          }
        }
      }
    },
    "listenerPort": {
      "title": "Listening Port (optional)",
      "description": "Provide a port number (between 1000 and 65535) to force the Konnected Homebridge plugin to listen on for zone state changes.",
      "type": "integer",
      "placeholder": "(default: randomized by availability)",
      "minimum": 1000,
      "maximum": 65535
    },
    "discoveryTimeout": {
      "title": "Discovery Timeout (optional)",
      "description": "Provide a length of time in seconds (between 1 and 300) to allow this plugin to discover all of the Konnected Alarm Panels on the network.",
      "type": "integer",
      "placeholder": "(default: 10 seconds)",
      "minimum": 1,
      "maximum": 300
    }
  },
  "layout": [
    {
      "items": [
        "name",
        {
          "key": "panels",
          "type": "array",
          "orderable": true,
          "expandable": true,
          "expanded": true,
          "buttonText": "Add Panel",
          "items": [
            "panels[].name",
            "panels[].uuid",
            "panels[].macAddress",
            "panels[].IPAddress",
            {
              "key": "panels[].zones",
              "type": "array",
              "orderable": true,
              "expandable": true,
              "expanded": true,
              "buttonText": "Add Zone",
              "items": [
                "panels[].zones[].zoneNumber",
                "panels[].zones[].zoneType",
                "panels[].zones[].zoneLocation",
                "panels[].zones[].zoneActiveAtHome",
                "panels[].zones[].zoneActiveAtNight"
              ]
            }
          ]
        },
        {
          "title": "Advanced",
          "type": "fieldset",
          "expandable": true,
          "expanded": false,
          "items": [{
              "key": "listenerPort",
              "type": "number"
            },
            {
              "key": "discoveryTimeout",
              "type": "number"
            }
          ]
        }
      ]
    }
  ]
}